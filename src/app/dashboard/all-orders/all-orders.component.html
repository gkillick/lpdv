<table mat-table #firstTable #firstTableSort="matSort" [dataSource]="allOrders" matSort class="mat-elevation-z8 mt-3 table-max">
  <ng-container matColumnDef="first_name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Prénom </th>
    <td mat-cell *matCellDef="let item"> {{item.first_name}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>
  <ng-container matColumnDef="last_name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom de Famille </th>
    <td mat-cell *matCellDef="let item"> {{item.last_name}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>
  <ng-container matColumnDef="telephone">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Téléphone </th>
    <td mat-cell *matCellDef="let item"> {{item.telephone}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <!-- Count -->
  <ng-container matColumnDef="summary">
    <th mat-header-cell *matHeaderCellDef> Résumé </th>
    <td mat-cell *matCellDef="let item"> {{ orderSummary(item)}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>
  <ng-container matColumnDef="total">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Prix </th>
    <td mat-cell *matCellDef="let item"> ${{ item.total | currency:'CAD':'':'':'fr' }} </td>
    <td style="font-weight: bold" mat-footer-cell *matFooterCellDef> ${{totalCost | currency:'CAD':'':'':'fr' }} </td>
  </ng-container>
  <ng-container matColumnDef="date" *ngIf="!forDate">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
    <td mat-cell *matCellDef="let item"> {{ item.date.toDate() | date :'mediumDate'}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>
  <ng-container matColumnDef="details">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="no-print"> Détails </th>
    <td class="no-print" mat-cell *matCellDef="let item"> <button (click)="openEditDialog(item.id)" class="btn btn-primary">Modifier</button> </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="columns"></tr>
  <tr mat-row *matRowDef="let row; columns: columns;"></tr>
  <tr mat-footer-row *matFooterRowDef="columns"></tr>

</table>
